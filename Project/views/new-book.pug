extends layout

block content
  h1 New Book

  // Debugging: Display raw errors object to see if it's passed correctly
  if errors
    h2 Error details:
    pre= JSON.stringify(errors, null, 2) // Show errors object for debugging

  // Display error messages, if any
  if errors
    ul.errors
      each error in errors
        li= error.message

  form(action="/books/new" method="POST")
    p
      label(for='title') Title
      input#title(name='title' type='text' value=book.title)
    p
      label(for='author') Author
      input#author(name='author' type='text' value=book.author)
    p
      label(for='genre') Genre
      input#genre(name='genre' type='text' value=book.genre)
    p
      label(for='year') Year
      input#year(name='year' type='text' value=book.year)
    p
      input(type='submit' value='Create New Book')

    p
      a.button(href='/books') Cancel


